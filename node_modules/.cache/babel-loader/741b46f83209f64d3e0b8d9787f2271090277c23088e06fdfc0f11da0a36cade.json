{"ast":null,"code":"import _objectSpread from\"C:/Users/Maria/Desktop/Examen Programaci\\xF3n de componentes/appexamen/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef}from\"react\";import SimpleReactValidator from\"simple-react-validator\";import{db}from\"../firebaseConfig\";import{collection,addDoc}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductForm(){const[producto,setProducto]=useState({nombre:\"\",precio:\"\"});const[mensaje,setMensaje]=useState(\"\");const validator=useRef(new SimpleReactValidator({autoForceUpdate:this}));const handleChange=e=>{setProducto(_objectSpread(_objectSpread({},producto),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();if(validator.current.allValid()){try{await addDoc(collection(db,\"productos\"),{nombre:producto.nombre,precio:parseFloat(producto.precio)});setMensaje(\"✅ Producto agregado correctamente.\");setProducto({nombre:\"\",precio:\"\"});validator.current.hideMessages();}catch(error){console.error(\"Error al guardar en Firestore:\",error);setMensaje(\"❌ Error al guardar el producto.\");}}else{validator.current.showMessages();setMensaje(\"⚠️ Revisa los campos.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Agregar Producto\"}),mensaje&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:mensaje}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre\",className:\"form-control\",value:producto.nombre,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:validator.current.message(\"nombre\",producto.nombre,\"required|min:3\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"precio\",className:\"form-control\",value:producto.precio,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:validator.current.message(\"precio\",producto.precio,\"required|numeric|min:1\")})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Guardar Producto\"})]})]});}export default ProductForm;","map":{"version":3,"names":["React","useState","useRef","SimpleReactValidator","db","collection","addDoc","jsx","_jsx","jsxs","_jsxs","ProductForm","producto","setProducto","nombre","precio","mensaje","setMensaje","validator","autoForceUpdate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","current","allValid","parseFloat","hideMessages","error","console","showMessages","className","children","onSubmit","type","onChange","message"],"sources":["C:/Users/Maria/Desktop/Examen Programación de componentes/appexamen/src/components/ProductForm.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { db } from \"../firebaseConfig\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nfunction ProductForm() {\r\n  const [producto, setProducto] = useState({ nombre: \"\", precio: \"\" });\r\n  const [mensaje, setMensaje] = useState(\"\");\r\n  const validator = useRef(new SimpleReactValidator({ autoForceUpdate: this }));\r\n\r\n  const handleChange = (e) => {\r\n    setProducto({\r\n      ...producto,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (validator.current.allValid()) {\r\n      try {\r\n        await addDoc(collection(db, \"productos\"), {\r\n          nombre: producto.nombre,\r\n          precio: parseFloat(producto.precio),\r\n        });\r\n        setMensaje(\"✅ Producto agregado correctamente.\");\r\n        setProducto({ nombre: \"\", precio: \"\" });\r\n        validator.current.hideMessages();\r\n      } catch (error) {\r\n        console.error(\"Error al guardar en Firestore:\", error);\r\n        setMensaje(\"❌ Error al guardar el producto.\");\r\n      }\r\n    } else {\r\n      validator.current.showMessages();\r\n      setMensaje(\"⚠️ Revisa los campos.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card p-4 shadow-sm\">\r\n      <h2 className=\"mb-3\">Agregar Producto</h2>\r\n      {mensaje && <div className=\"alert alert-info\">{mensaje}</div>}\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        {/* Campo Nombre */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Nombre</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"nombre\"\r\n            className=\"form-control\"\r\n            value={producto.nombre}\r\n            onChange={handleChange}\r\n          />\r\n          <div className=\"text-danger\">\r\n            {validator.current.message(\"nombre\", producto.nombre, \"required|min:3\")}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Campo Precio */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Precio</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"precio\"\r\n            className=\"form-control\"\r\n            value={producto.precio}\r\n            onChange={handleChange}\r\n          />\r\n          <div className=\"text-danger\">\r\n            {validator.current.message(\"precio\", producto.precio, \"required|numeric|min:1\")}\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-success\">\r\n          Guardar Producto\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}